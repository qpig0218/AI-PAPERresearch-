<!DOCTYPE html>
<html lang="zh-Hant" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIé†«å­¸æª¢ç´¢çš„æ·±åº¦åˆ†æï¼šAIåœ¨ç³»çµ±æ€§å›é¡§ä¸­çš„æ‡‰ç”¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals with Teal Accent -->
    <!-- Application Structure Plan: A multi-page SPA simulation within a single HTML file. Each main section acts as a distinct "page" that occupies the full viewport height. Navigation links control the visibility of these pages, ensuring only one is active at a time. This structure prioritizes a clear, isolated view for each thematic area (Home, AI Toolkit, Model Showdown, Human-AI Synergy, Challenges, Strategies), enhancing focus and preventing content overlap. It's chosen for its intuitive "tabbed browsing" feel, making dense report information digestible by presenting it in logical, self-contained units. -->
    <!-- Visualization & Content Choices: 
        - Model Comparison (Table 1 Data): Goal: Compare. Method: Interactive Bar Chart (Chart.js) with a dropdown filter. Justification: Allows users to dynamically compare AI model performance in specific medical fields, which is more engaging and personalized than a static table.
        - Human-AI Performance (Table 2 Data): Goal: Compare. Method: Dynamic stat cards for impact and a grouped bar chart (Chart.js). Justification: Stat cards highlight the most dramatic efficiency gains, while the chart provides a clear, quantitative comparison of AI vs. Human vs. Collaborative performance.
        - Challenges & Ethics: Goal: Organize. Method: Accordion layout. Justification: Condenses a large volume of text into manageable, thematic sections, preventing user fatigue and improving scannability.
        - AI Toolkit: Goal: Inform & Organize. Method: Clickable info cards. Justification: An interactive way to present a list of tools without cluttering the initial view.
        - Library/Method: Chart.js for all charts, rendered on Canvas. Layout with Tailwind CSS. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #F5F5F4; /* stone-100 */
            color: #44403C; /* stone-700 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 50vh;
        }
        @media (max-width: 768px) {
            .chart-container {
                height: 350px;
                max-height: 60vh;
                min-height: 300px; /* Ensure minimum height on mobile */
                padding: 0 10px; /* Add padding to prevent edge cutoff */
            }
        }
        /* Ensure canvas elements are properly sized on mobile */
        @media (max-width: 768px) {
            .chart-container canvas {
                max-width: 100% !important;
                height: auto !important;
            }
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
            border-bottom: 2px solid transparent;
        }
        .nav-link:hover, .nav-link.active {
            color: #0D9488; /* teal-600 */
            border-bottom-color: #0D9488;
        }
        .stat-card {
            background-color: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            text-align: center;
            border-left: 5px solid #2DD4BF; /* teal-400 */
        }
        .accordion-button {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            padding: 1rem;
            font-weight: 500;
            text-align: left;
            background-color: #ffffff;
            border: 1px solid #E7E5E4; /* stone-200 */
            border-radius: 0.5rem;
            transition: background-color 0.3s;
        }
        .accordion-button:hover {
            background-color: #FAFAF9; /* stone-50 */
        }
        .accordion-content {
            padding: 1rem;
            border: 1px solid #E7E5E4;
            border-top: 0;
            border-radius: 0 0 0.5rem 0.5rem;
            background-color: #ffffff;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .page-section {
            min-height: calc(100vh - 4rem); /* Full viewport height minus header height */
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding-top: 4rem; /* To account for sticky header */
            padding-bottom: 4rem;
        }
        .page-section.hidden {
            display: none;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header & Navigation -->
    <header id="header" class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold text-teal-700">AIé†«å­¸æª¢ç´¢åˆ†æ</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#home" class="nav-link px-3 py-2 rounded-md text-sm font-medium">é¦–é </a>
                        <a href="#toolkit" class="nav-link px-3 py-2 rounded-md text-sm font-medium">AIå·¥å…·ç®±</a>
                        <a href="#showdown" class="nav-link px-3 py-2 rounded-md text-sm font-medium">æ¨¡å‹å°æ±º</a>
                        <a href="#synergy" class="nav-link px-3 py-2 rounded-md text-sm font-medium">äººæ©Ÿå”ä½œ</a>
                        <a href="#challenges" class="nav-link px-3 py-2 rounded-md text-sm font-medium">æŒ‘æˆ°èˆ‡å€«ç†</a>
                        <a href="#strategies" class="nav-link px-3 py-2 rounded-md text-sm font-medium">è¡Œå‹•ç­–ç•¥</a>
                    </div>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-teal-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-teal-500">
                        <span class="sr-only">Open main menu</span>
                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
        </nav>
        <div id="mobile-menu" class="md:hidden hidden">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#home" class="nav-link block px-3 py-2 rounded-md text-base font-medium">é¦–é </a>
                <a href="#toolkit" class="nav-link block px-3 py-2 rounded-md text-base font-medium">AIå·¥å…·ç®±</a>
                <a href="#showdown" class="nav-link block px-3 py-2 rounded-md text-base font-medium">æ¨¡å‹å°æ±º</a>
                <a href="#synergy" class="nav-link block px-3 py-2 rounded-md text-base font-medium">äººæ©Ÿå”ä½œ</a>
                <a href="#challenges" class="nav-link block px-3 py-2 rounded-md text-base font-medium">æŒ‘æˆ°èˆ‡å€«ç†</a>
                <a href="#strategies" class="nav-link block px-3 py-2 rounded-md text-base font-medium">è¡Œå‹•ç­–ç•¥</a>
            </div>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section id="home" class="page-section bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h2 class="text-4xl font-extrabold text-stone-800 sm:text-5xl md:text-6xl">AIé†«å­¸æª¢ç´¢çš„æ·±åº¦åˆ†æ</h2>
                <p class="mt-6 max-w-2xl mx-auto text-xl text-stone-600">æ¢ç´¢AIå¦‚ä½•é‡å¡‘ç³»çµ±æ€§æ–‡ç»å›é¡§ï¼Œä»¥åŠé†«é™¢ç ”ç©¶è€…åœ¨AIæ™‚ä»£ä¸­æ¼”é€²çš„é—œéµè§’è‰²ã€é¢è‡¨çš„æŒ‘æˆ°èˆ‡æœªä¾†ç­–ç•¥ã€‚</p>
                <div class="mt-10">
                    <a href="#toolkit" class="inline-block bg-teal-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-teal-700 transition-colors">é–‹å§‹æ¢ç´¢</a>
                </div>
            </div>
        </section>

        <!-- AI Toolkit Section -->
        <section id="toolkit" class="page-section bg-stone-100 hidden">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="text-3xl font-bold text-stone-800">AIå·¥å…·ç®±ï¼šç³»çµ±æ€§å›é¡§çš„åˆ©å™¨</h2>
                    <p class="mt-4 max-w-2xl mx-auto text-lg text-stone-600">ç³»çµ±æ€§å›é¡§çš„å„å€‹éšæ®µéƒ½æœ‰å°æ‡‰çš„AIå·¥å…·å¯ä»¥è¼”åŠ©ã€‚é»æ“Šä¸‹æ–¹å¡ç‰‡ï¼Œäº†è§£ä¸åŒé¡å‹çš„AIå·¥å…·åŠå…¶ä»£è¡¨æ€§ç”¢å“ã€‚</p>
                </div>
                <div id="toolkit-container" class="mt-12 grid gap-8 md:grid-cols-2 lg:grid-cols-4">
                    <!-- Cards will be injected by JS -->
                </div>
                <div id="toolkit-details" class="mt-8 p-6 bg-white rounded-lg shadow-md hidden fade-in">
                    <!-- Details will be injected by JS -->
                </div>
            </div>
        </section>

        <!-- AI Showdown Section -->
        <section id="showdown" class="page-section bg-white hidden">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="lg:text-center">
                    <h2 class="text-3xl font-bold text-stone-800">æ¨¡å‹å°æ±ºï¼šChatGPT vs. Gemini</h2>
                    <p class="mt-4 max-w-2xl mx-auto text-lg text-stone-600">ä¸åŒAIæ¨¡å‹åœ¨å„é†«å­¸å°ˆæ¥­é ˜åŸŸçš„è¡¨ç¾æœ‰æ‰€å·®ç•°ã€‚é¸æ“‡ä¸€å€‹é ˜åŸŸï¼ŒæŸ¥çœ‹ChatGPTèˆ‡Geminiçš„æº–ç¢ºæ€§æ¯”è¼ƒï¼Œä»¥åŠå°ˆæ¥­AIæ¨¡å‹çš„å“è¶Šè¡¨ç¾ã€‚</p>
                </div>
                <div class="mt-10 flex flex-col items-center">
                    <div class="w-full max-w-xs mb-6">
                        <label for="specialty-select" class="block text-sm font-medium text-stone-700 mb-2">é¸æ“‡é†«å­¸å°ˆæ¥­é ˜åŸŸï¼š</label>
                        <select id="specialty-select" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm">
                            <!-- Options will be injected by JS -->
                        </select>
                    </div>
                    <div class="chart-container">
                        <canvas id="showdownChart"></canvas>
                    </div>
                    <div id="showdown-summary" class="mt-6 max-w-3xl mx-auto text-center text-stone-600">
                        <!-- Summary text will be updated by JS -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Human-AI Synergy Section -->
        <section id="synergy" class="page-section bg-stone-100 hidden">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="text-3xl font-bold text-stone-800">äººæ©Ÿå”ä½œï¼š1+1>2çš„ç¶œæ•ˆ</h2>
                    <p class="mt-4 max-w-2xl mx-auto text-lg text-stone-600">AIä¸åƒ…æå‡æ•ˆç‡ï¼Œèˆ‡äººé¡å°ˆå®¶å”ä½œæ™‚æ›´èƒ½é”åˆ°ã€Œè¶…äººã€çš„è¡¨ç¾æ°´å¹³ã€‚æœ¬å€å±•ç¤ºAIåœ¨é€Ÿåº¦ã€æº–ç¢ºæ€§ä¸Šçš„é©šäººè¡¨ç¾ï¼Œä»¥åŠäººæ©Ÿå”ä½œå¸¶ä¾†çš„åŠ ä¹˜æ•ˆæœã€‚</p>
                </div>
                <div class="mt-12 grid gap-8 md:grid-cols-2 lg:grid-cols-4">
                    <div class="stat-card">
                        <p class="text-4xl font-bold text-teal-600">12å¹´ â†’ 2å¤©</p>
                        <p class="mt-2 text-stone-600">otto-SRç³»çµ±å®Œæˆå‚³çµ±éœ€12å€‹å·¥ä½œå¹´çš„ç ”ç©¶</p>
                    </div>
                    <div class="stat-card">
                        <p class="text-4xl font-bold text-teal-600">>50%</p>
                        <p class="mt-2 text-stone-600">AIå·¥å…·è­˜åˆ¥ç›¸é—œæ–‡ç»çš„é€Ÿåº¦å¹³å‡æå‡è¶…é50%</p>
                    </div>
                    <div class="stat-card">
                        <p class="text-4xl font-bold text-teal-600">93.1%</p>
                        <p class="mt-2 text-stone-600">AIæ•¸æ“šæå–æº–ç¢ºç‡ (äººé¡ç‚º79.7%)</p>
                    </div>
                    <div class="stat-card">
                        <p class="text-4xl font-bold text-teal-600">+22.6%</p>
                        <p class="mt-2 text-stone-600">äººæ©Ÿå”ä½œæ¨¡å¼ä¸‹çš„ç ”ç©¶ç¯©é¸æ™‚é–“ç¯€çœ</p>
                    </div>
                </div>
                 <div class="mt-16">
                    <h3 class="text-xl font-bold text-center text-stone-800 mb-6">ä»»å‹™æ€§èƒ½é‡åŒ–æ¯”è¼ƒ</h3>
                    <div class="chart-container">
                        <canvas id="synergyChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Challenges & Ethics Section -->
        <section id="challenges" class="page-section bg-white hidden">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="text-3xl font-bold text-stone-800">æŒ‘æˆ°ã€å±€é™èˆ‡å€«ç†è€ƒé‡</h2>
                    <p class="mt-4 max-w-2xl mx-auto text-lg text-stone-600">AIçš„æ‡‰ç”¨ä¸¦éæ²’æœ‰é¢¨éšªã€‚å¾ã€Œé»‘ç®±ã€ç¾è±¡åˆ°æ¼”ç®—æ³•åè¦‹ï¼Œäº†è§£åœ¨é†«å­¸ç ”ç©¶ä¸­éƒ¨ç½²AIæ‰€é¢è‡¨çš„é—œéµéšœç¤™è‡³é—œé‡è¦ã€‚</p>
                </div>
                <div id="challenges-accordion" class="mt-12 space-y-4">
                    <!-- Accordion items will be injected by JS -->
                </div>
            </div>
        </section>

        <!-- Strategies Section -->
        <section id="strategies" class="page-section bg-stone-100 hidden">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="text-3xl font-bold text-stone-800">é†«é™¢ç ”ç©¶è€…çš„è¡Œå‹•ç­–ç•¥</h2>
                    <p class="mt-4 max-w-2xl mx-auto text-lg text-stone-600">é¢å°AIæµªæ½®ï¼Œé†«é™¢ç ”ç©¶è€…æ‡‰æ¡å–ç©æ¥µç­–ç•¥ï¼Œè½‰å‹ç‚ºçŸ¥è­˜å®ˆè­·è€…ã€AIå·¥å…·çš„ä½¿ç”¨å°ˆå®¶ï¼Œä»¥åŠå€«ç†å¯¦æ–½çš„å€¡å°è€…ã€‚</p>
                </div>
                <div class="mt-12 grid gap-8 md:grid-cols-2 lg:grid-cols-3">
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div class="flex items-center justify-center h-12 w-12 rounded-md bg-teal-500 text-white">
                            <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                        </div>
                        <h3 class="mt-5 text-lg font-medium text-stone-900">åŸ¹é¤ŠAIç´ é¤Šèˆ‡èƒ½åŠ›</h3>
                        <p class="mt-2 text-base text-stone-600">æå‡æ•¸æ“šç®¡ç†ã€åˆ†æèˆ‡å…§å®¹ç­–åŠƒèƒ½åŠ›ï¼Œä¸¦æŒ‡å°ä½¿ç”¨è€…æ‰¹åˆ¤æ€§åœ°è©•ä¼°AIç”Ÿæˆå…§å®¹ï¼Œäº†è§£å…¶å„ªç¼ºé»ã€‚</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div class="flex items-center justify-center h-12 w-12 rounded-md bg-teal-500 text-white">
                            <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                        </div>
                        <h3 class="mt-5 text-lg font-medium text-stone-900">åˆ¶å®šæœ€ä½³å¯¦è¸</h3>
                        <p class="mt-2 text-base text-stone-600">æ ¹æ“šé …ç›®ç‰¹é»é¸æ“‡åˆé©çš„AIå·¥å…·ï¼Œå¯¦æ–½ã€Œäººåœ¨è¿´è·¯ã€å·¥ä½œæµç¨‹ï¼Œçµåˆå¤šç¨®å·¥å…·ç™¼æ®å…¶å°ˆæ¥­å„ªå‹¢ã€‚</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                         <div class="flex items-center justify-center h-12 w-12 rounded-md bg-teal-500 text-white">
                           <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6.364-3.636l-1.414 1.414M21 12h-2M4 12H2m15.364-6.364l-1.414-1.414M6.364 6.364L4.95 4.95M12 3v2m0 12v2m-6.364-3.636l-1.414-1.414M12 21a9 9 0 100-18 9 9 0 000 18z" /></svg>
                        </div>
                        <h3 class="mt-5 text-lg font-medium text-stone-900">å€¡å°å€«ç†AIå¯¦æ–½</h3>
                        <p class="mt-2 text-base text-stone-600">ä½œç‚ºç§‘å­¸æµç¨‹çš„ã€Œå®Œæ•´æ€§ä¿è­·è€…ã€ï¼Œæ‰“æ“Šè™›å‡è³‡è¨Šï¼Œè§£æ±ºæ¼”ç®—æ³•åè¦‹ï¼Œä¸¦å€¡å°å¯è§£é‡‹AIèˆ‡æ˜ç¢ºçš„è²¬ä»»æ¡†æ¶ã€‚</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-white">
        <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 md:flex md:items-center md:justify-between lg:px-8">
            <div class="mt-8 md:mt-0 md:order-1">
                <p class="text-center text-base text-stone-500">&copy; 2025 AIé†«å­¸æª¢ç´¢äº’å‹•å¼åˆ†æå ±å‘Šã€‚åŸºæ–¼AIé†«å­¸æª¢ç´¢çš„æ·±åº¦åˆ†æå ±å‘Šå‰µå»ºã€‚</p>
            </div>
        </div>
    </footer>

<script>
document.addEventListener('DOMContentLoaded', () => {

    // Page navigation logic - Set up first to ensure it works regardless of other code
    const pageSections = document.querySelectorAll('.page-section');
    const navLinks = document.querySelectorAll('.nav-link');
    const mobileMenu = document.getElementById('mobile-menu');
    const mobileMenuButton = document.getElementById('mobile-menu-button');

    const showPage = (pageId) => {
        pageSections.forEach(section => {
            section.classList.add('hidden');
        });
        document.querySelector(pageId).classList.remove('hidden');

        navLinks.forEach(link => {
            link.classList.remove('active');
        });
        const activeLink = document.querySelector(`[href="${pageId}"]`);
        if (activeLink) {
            activeLink.classList.add('active');
        }

        // Scroll to top of the new page, accounting for fixed header
        const headerOffset = document.getElementById('header').offsetHeight;
        window.scrollTo({
            top: document.querySelector(pageId).offsetTop - headerOffset,
            behavior: 'smooth'
        });
    };

    // Navigation click handlers
    navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const pageId = link.getAttribute('href');
            showPage(pageId);
            if (!mobileMenu.classList.contains('hidden')) { // Close mobile menu if open
                mobileMenu.classList.add('hidden');
            }
        });
    });

    // é–‹å§‹æ¢ç´¢ button click handler
    const startExploringButton = document.querySelector('a[href="#toolkit"]:not(.nav-link)');
    if (startExploringButton) {
        startExploringButton.addEventListener('click', (e) => {
            e.preventDefault();
            showPage('#toolkit');
        });
    }

    // Mobile Menu Toggle
    mobileMenuButton.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });

    // Close mobile menu on link click
    mobileMenu.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', () => {
            mobileMenu.classList.add('hidden');
        });
    });

    // Initial page load
    showPage('#home');

    // Data Store
    const showdownData = {
        'æ”¾å°„å­¸': {
            labels: ['ChatGPT (é€šç”¨)', 'Gemini (é€šç”¨)'],
            datasets: [{
                label: 'æº–ç¢ºæ€§ (%)',
                data: [87.43, 71],
                backgroundColor: ['#2DD4BF', '#A78BFA'],
            }],
            summary: 'åœ¨æ”¾å°„å­¸é ˜åŸŸï¼ŒChatGPTå±•ç¾å‡ºæ¯”Geminiæ›´é«˜çš„æº–ç¢ºæ€§ï¼Œä¸”å›æ‡‰é•·åº¦æ›´çŸ­ã€‚ç‰¹åˆ¥æ˜¯åœ¨èƒ¸éƒ¨æ”¾å°„å­¸å’Œè¶…éŸ³æ³¢æ–¹é¢ï¼ŒChatGPTçš„æº–ç¢ºæ€§é”åˆ°100%ã€‚'
        },
        'è¿‘è¦–è­·ç†': {
            labels: ['ChatGPT', 'Gemini'],
            datasets: [{
                label: 'æº–ç¢ºæ€§ (%)',
                data: [80.6, 54.8],
                backgroundColor: ['#2DD4BF', '#A78BFA'],
            }],
            summary: 'åœ¨è¿‘è¦–è­·ç†æŸ¥è©¢ä¸­ï¼Œå„˜ç®¡å›æ‡‰é•·åº¦ç›¸ä¼¼ï¼ŒChatGPTçš„æº–ç¢ºæ€§ï¼ˆ80.6%ï¼‰æ˜é¡¯é«˜æ–¼Geminiï¼ˆ54.8%ï¼‰ã€‚'
        },
        'å¿ƒè¡€ç®¡è—¥ç†å­¸': {
            labels: ['ChatGPT-4', 'Copilot', 'Google Gemini'],
            datasets: [{
                label: 'é«˜ç´šMCQæº–ç¢ºæ€§ (%)',
                data: [73, 53, 20],
                backgroundColor: ['#2DD4BF', '#60A5FA', '#A78BFA'],
            }],
            summary: 'åœ¨å¿ƒè¡€ç®¡è—¥ç†å­¸çš„è¤‡é›œå¤šé¸é¡Œä¸­ï¼ŒChatGPT-4è¡¨ç¾æœ€ä½³ï¼Œè€ŒGoogle Geminié¡¯ç¤ºå‡ºé¡¯è‘—çš„å±€é™æ€§ã€‚'
        },
        'ç·Šæ€¥æƒ…æ³': {
            labels: ['ChatGPT', 'Gemini'],
            datasets: [{
                label: 'æº–ç¢ºæ€§ (%)',
                data: [77, 87],
                backgroundColor: ['#2DD4BF', '#A78BFA'],
            }],
            summary: 'åœ¨éœ€è¦è©³ç´°è³‡è¨Šçš„ç·Šæ€¥æƒ…æ³ä¸‹ï¼ŒGeminiçš„è¡¨ç¾å„ªæ–¼ChatGPTï¼Œé€™å¯èƒ½èˆ‡å…¶æä¾›æ›´é•·ã€æ›´è©³ç´°å›æ‡‰çš„å‚¾å‘æœ‰é—œã€‚'
        },
        'å°ˆæ¥­ vs. é€šç”¨æ¨¡å‹': {
            labels: ['LEADS (å°ˆæ¥­)', 'GPT-4o (é€šç”¨)'],
             datasets: [{
                label: 'æ•¸æ“šæå–æº–ç¢ºæ€§',
                data: [0.68, 0.55],
                backgroundColor: ['#0D9488', '#FBBF24'],
            }],
            summary: 'å°ˆç‚ºé†«å­¸æ–‡ç»è¨­è¨ˆçš„AIæ¨¡å‹ï¼ˆå¦‚LEADSï¼‰åœ¨ç ”ç©¶æª¢ç´¢ã€ç¯©é¸å’Œæ•¸æ“šæå–ç­‰ä»»å‹™ä¸­ï¼Œå§‹çµ‚å„ªæ–¼æœ€å¼·å¤§çš„é€šç”¨æ¨¡å‹ï¼ˆå¦‚GPT-4oï¼‰ï¼Œçªé¡¯äº†é ˜åŸŸç‰¹å®šè¨“ç·´çš„é‡è¦æ€§ã€‚'
        }
    };

    const synergyData = {
        labels: ['æº–ç¢ºæ€§ (%)', 'æ•æ„Ÿåº¦/å¬å›ç‡ (%)', 'æ™‚é–“ç¯€çœ (%)'],
        datasets: [
            {
                label: 'äººé¡ (å–®ç¨)',
                data: [79.7, 81.7, 0],
                backgroundColor: '#FBBF24', // Amber
            },
            {
                label: 'AI (å–®ç¨)',
                data: [93.1, 96.7, 77], // Using 77% from ASReview as a proxy
                backgroundColor: '#60A5FA', // Blue
            },
            {
                label: 'äººæ©Ÿå”ä½œ',
                data: [85, 81, 26.9], // Using LEADS+Expert data
                backgroundColor: '#2DD4BF', // Teal
            }
        ]
    };
    
    const toolkitData = {
        "ä¸€èˆ¬ç ”ç©¶åŠ©ç†": {
            icon: `<svg class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v11.494m-5.747-8.994l11.494 5.248M5.753 17.747l11.494-5.248" /></svg>`,
            description: "é€™äº›å·¥å…·åˆ©ç”¨å¤§å‹èªè¨€æ¨¡å‹ä¾†ç†è§£ç ”ç©¶å•é¡Œã€æŸ¥æ‰¾ç›¸é—œæ–‡ç»ã€ç¸½çµç™¼ç¾ä¸¦æå–é—œéµè³‡è¨Šã€‚",
            tools: [
                { name: 'Elicit.org', desc: 'åˆ©ç”¨èªç¾©ç›¸ä¼¼æ€§æŸ¥æ‰¾æ–‡ç»ï¼Œä¸¦è‡ªå‹•åŒ–å›é¡§æµç¨‹ã€‚' },
                { name: 'Consensus.app', desc: 'å¾æµ·é‡æ–‡ç»ä¸­æŸ¥æ‰¾å’Œç¶œåˆç™¼ç¾ï¼Œä¸¦æä¾›ã€Œå…±è­˜è¨ˆã€ã€‚' },
                { name: 'OpenRead', desc: 'èƒ½ç”Ÿæˆå¸¶å¼•æ–‡çš„ç¶œåˆå ±å‘Šï¼Œä¸¦å…è¨±å¾ŒçºŒæå•ã€‚' }
            ]
        },
        "ç¯©é¸èˆ‡æ•¸æ“šæå–": {
            icon: `<svg class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h6a1 1 0 001-1v-6a1 1 0 00-1-1h-6z" /></svg>`,
            description: "å°ˆé–€ç”¨æ–¼åŠ é€Ÿç³»çµ±æ€§å›é¡§ä¸­æœ€è€—æ™‚çš„ç’°ç¯€ï¼šç¯©é¸æ–‡ç»å’Œå¾å…¨æ–‡ä¸­æå–çµæ§‹åŒ–æ•¸æ“šã€‚",
            tools: [
                { name: 'Rayyan', desc: 'å…è²»çš„å”ä½œç¯©é¸å·¥å…·ï¼Œå¯ç¯€çœç´„40%æ™‚é–“ã€‚' },
                { name: 'DistillerSR', desc: 'åˆ©ç”¨ä¸»å‹•æ©Ÿå™¨å­¸ç¿’åŠ é€Ÿè­˜åˆ¥ç›¸é—œè¨˜éŒ„ï¼Œå¹³å‡å¿«50%ã€‚' },
                { name: 'RobotReviewer', desc: 'è‡ªå‹•å¾RCTæ–‡ç« ä¸­ç¢ºå®šPICOã€ç ”ç©¶è¨­è¨ˆå’Œåå€šé¢¨éšªã€‚' },
                { name: 'Laser AI', desc: 'å°ˆç‚ºæ´»é«”ç³»çµ±æ€§å›é¡§è¨­è¨ˆï¼Œç°¡åŒ–ç¯©é¸å’Œæ•¸æ“šæå–ã€‚' }
            ]
        },
        "å¼•æ–‡åˆ†æèˆ‡æ˜ å°„": {
            icon: `<svg class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>`,
            description: "é€™äº›å·¥å…·é€éè¦–è¦ºåŒ–åœ–å½¢å’Œæ™ºèƒ½ç´¢å¼•ä¾†å¹«åŠ©ç ”ç©¶äººå“¡ç†è§£ç ”ç©¶é ˜åŸŸçš„çµæ§‹ã€ç™¼ç¾é—œéµè«–æ–‡å’Œè¿½è¹¤å­¸è¡“å½±éŸ¿åŠ›ã€‚",
            tools: [
                { name: 'Semantic Scholar', desc: 'æä¾›èªç¾©æª¢ç´¢ã€ç ”ç©¶æ¨è–¦å’Œã€ŒTLDRsã€æ‘˜è¦ã€‚' },
                { name: 'Connected Papers', desc: 'ç”¨è¦–è¦ºåœ–å½¢é¡¯ç¤ºç›¸é—œç ”ç©¶åŠå…¶å¼•æ–‡é€£æ¥ã€‚' },
                { name: 'Research Rabbit', desc: 'åŸºæ–¼å¼•æ–‡çš„æ˜ å°„å·¥å…·ï¼Œå¯è­˜åˆ¥ç›¸ä¼¼ã€æ—©æœŸå’Œå¾ŒæœŸçš„ä½œå“ã€‚' },
                { name: 'Scite.ai', desc: 'æ™ºèƒ½å¼•æ–‡ç´¢å¼•ï¼Œå°å¼•æ–‡æ„åœ–é€²è¡Œåˆ†é¡ï¼ˆæ”¯æŒã€å°æ¯”ã€æåŠï¼‰ã€‚' }
            ]
        },
        "LLMsè¼”åŠ©": {
            icon: `<svg class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" /></svg>`,
            description: "é€šç”¨å¤§å‹èªè¨€æ¨¡å‹å¯ä½œç‚ºå¤šåŠŸèƒ½çš„åŠ©ç†ï¼Œä½†å…¶è¼¸å‡ºå¿…é ˆç¶“éåš´æ ¼çš„äººå·¥é©—è­‰ã€‚",
            tools: [
                { name: 'ChatGPT/Copilot/Gemini', desc: 'å¯å”åŠ©åˆ¶å®šç ”ç©¶å•é¡Œã€ç”Ÿæˆæª¢ç´¢è©ã€å‰µå»ºæª¢ç´¢å­—ä¸²ã€‚' },
                { name: 'Claude', desc: 'å…·æœ‰è¶…å¤§ä¸Šä¸‹æ–‡çª—å£ï¼Œæ“…é•·è™•ç†å¤§é‡æ–‡ç»é€²è¡Œåˆ†æç¸½çµã€‚' }
            ]
        }
    };
    
    const challengesData = {
        "å€«ç†éšœç¤™": {
            icon: 'ğŸ›¡ï¸',
            points: ["<b>éš±ç§ï¼š</b>å¤§é‡ç—…äººæ•¸æ“šçš„ä½¿ç”¨å¼•ç™¼éš±ç§å’Œæ©Ÿå¯†æ€§æ“”æ†‚ã€‚", "<b>ä¿¡ä»»ï¼š</b>é†«ç™‚å°ˆæ¥­äººå“¡ç¼ºä¹è©•ä¼°AIçš„åŸ¹è¨“ï¼Œå›é¡§æ€§è­‰æ“šéå¤šã€‚", "<b>é€æ˜åº¦ï¼ˆé»‘ç®±ç¾è±¡ï¼‰ï¼š</b>ç„¡æ³•è§£é‡‹æ±ºç­–åŸºç¤ï¼Œå°è‡´é©—è­‰å’Œç›£ç£å›°é›£ã€‚", "<b>åˆ©ç›Šè¡çªï¼š</b>å•†æ¥­é–‹ç™¼å¯èƒ½å°è‡´å¯©æŸ¥ä¸è¶³çš„AIé€²å…¥å¸‚å ´ã€‚", "<b>æ¼”ç®—æ³•å…¬å¹³æ€§ï¼š</b>å­˜åœ¨æ½›åœ¨åè¦‹é¢¨éšªï¼Œéœ€æŒçºŒåŠªåŠ›ç¢ºä¿å…¬å¹³ã€‚"]
        },
        "æŠ€è¡“éšœç¤™": {
            icon: 'âš™ï¸',
            points: ["<b>æ•¸æ“šå“è³ªï¼š</b>AIæ€§èƒ½å—è¨“ç·´æ•¸æ“šçš„å“è³ªã€å®Œæ•´æ€§å’Œå¤§å°é™åˆ¶ã€‚", "<b>äº’æ“ä½œæ€§ï¼š</b>æ•¸æ“šæ¨™æº–åŒ–å’Œäº’æ“ä½œæ€§çš„ç¼ºä¹é˜»ç¤™äº†AIçš„æ•´åˆã€‚", "<b>åŸºç¤è¨­æ–½ï¼š</b>å¯¦æ–½AIéœ€è¦æ˜‚è²´çš„ITç³»çµ±å’Œæ•¸æ“šå…±äº«åŸºç¤è¨­æ–½ã€‚"]
        },
        "è²¬ä»»èˆ‡ç›£ç®¡": {
            icon: 'âš–ï¸',
            points: ["<b>è²¬ä»»æ­¸å±¬ï¼š</b>AIé©…å‹•æ±ºç­–çš„è²¬ä»»æ­¸å±¬å•é¡Œï¼ˆé†«ç”Ÿã€é–‹ç™¼è€…ã€æ©Ÿæ§‹ï¼‰å°šæœªè§£æ±ºã€‚", "<b>ç›£ç®¡æ¡†æ¶ï¼š</b>ç¼ºä¹æ˜ç¢ºçš„AIæ‰¹å‡†ç³»çµ±å’Œçµ±ä¸€çš„è©•ä¼°æ¡†æ¶ã€‚"]
        },
        "å‹å‹•åŠ›éšœç¤™": {
            icon: 'ğŸ‘¥',
            points: ["<b>æ•™è‚²èˆ‡åŸ¹è¨“ï¼š</b>é†«ç™‚å°ˆæ¥­äººå“¡å’Œé†«å­¸èª²ç¨‹ä¸­æ™®éç¼ºä¹AIçŸ¥è­˜èˆ‡åŸ¹è¨“ã€‚", "<b>æ„é¡˜èˆ‡åƒèˆ‡ï¼š</b>é†«ç”Ÿçš„æ‡·ç–‘æ…‹åº¦ã€å°å¤±æ¥­çš„æ“”æ†‚ç­‰é˜»ç¤™æ¡ç”¨ã€‚", "<b>è²¡æ”¿èˆ‡æ™‚é–“ï¼š</b>å°ˆå®¶æ•¸æ“šæ¨™è¨»å’Œç³»çµ±ç¶­è­·æˆæœ¬é«˜æ˜‚ã€‚"]
        },
        "ç—…äººå®‰å…¨": {
            icon: 'â¤ï¸',
            points: ["<b>åˆ†ä½ˆè½‰ç§»ï¼š</b>AIåœ¨çœŸå¯¦ä¸–ç•Œæ•¸æ“šä¸­çš„è¡¨ç¾å¯èƒ½ä¸å¦‚å—æ§æ•¸æ“šé›†ã€‚", "<b>è‡ªå‹•åŒ–åè¦‹ï¼š</b>è‡¨åºŠé†«ç”Ÿå¯èƒ½å› éåº¦ä¾è³´AIè€Œè®Šå¾—è‡ªæ»¿ã€‚", "<b>å¯è§£é‡‹AIéœ€æ±‚ï¼š</b>éœ€è¦é€æ˜çš„ã€Œå¯è§£é‡‹AIã€è€Œéã€Œé»‘ç®±ã€ï¼Œä»¥å…è¨±äººé¡å¯©æŸ¥ã€‚"]
        },
         "ç¤¾æœƒéšœç¤™": {
            icon: 'ğŸŒ',
            points: ["<b>å¥åº·ä¸å¹³ç­‰ï¼š</b>ä¸å…·ä»£è¡¨æ€§çš„è¨“ç·´æ•¸æ“šå¯èƒ½åŠ åŠ‡ç¾æœ‰å¥åº·ä¸å¹³ç­‰ã€‚", "<b>æ•¸ä½é´»æºï¼š</b>AIåŸºç¤è¨­æ–½çš„è¨ªå•ä¸å‡å¯èƒ½å°è‡´å…©ç´šé†«ç™‚ç³»çµ±ã€‚", "<b>ç¤¾æœƒæ¥å—åº¦ï¼š</b>å°ã€Œé»‘ç®±ã€å’Œå¤±å»äººéš›äº’å‹•çš„æ“”æ†‚é˜»ç¤™å…¬çœ¾å’Œç—…äººå°AIçš„æ¥å—ã€‚"]
        }
    };

    // Chart.js Configuration
    Chart.defaults.font.family = "'Noto Sans TC', sans-serif";
    Chart.defaults.color = '#57534E'; // stone-600

    const createChart = (ctx, type, data, options = {}) => {
        return new Chart(ctx, {
            type: type,
            data: data,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                // Improve mobile responsiveness
                devicePixelRatio: window.devicePixelRatio || 1,
                interaction: {
                    intersect: false,
                    mode: 'index',
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: '#E7E5E4' },
                        ticks: { 
                            color: '#57534E',
                            // Improve mobile readability
                            font: {
                                size: isMobile() ? 10 : 12
                            }
                        }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { 
                            color: '#57534E',
                            // Improve mobile readability  
                            font: {
                                size: isMobile() ? 10 : 12
                            },
                            maxRotation: isMobile() ? 45 : 0
                        }
                    }
                },
                plugins: {
                    legend: {
                        position: 'top',
                        labels: {
                            color: '#57534E',
                            font: {
                                size: isMobile() ? 11 : 13
                            },
                            boxWidth: isMobile() ? 12 : 15,
                            padding: isMobile() ? 10 : 15
                        }
                    },
                    tooltip: {
                        backgroundColor: '#44403C',
                        titleColor: '#F5F5F4',
                        bodyColor: '#F5F5F4',
                        boxPadding: 4,
                        titleFont: {
                            size: isMobile() ? 12 : 14
                        },
                        bodyFont: {
                            size: isMobile() ? 11 : 13
                        },
                        callbacks: {
                           label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.y !== null) {
                                    if(context.dataset.label.includes('%')) {
                                      label += context.parsed.y + '%';
                                    } else {
                                      label += context.parsed.y;
                                    }
                                }
                                return label;
                            }
                        }
                    }
                },
                ...options
            }
        });
    };
    
    // Init Showdown Chart
    let showdownChart; // Declare outside for scope
    let showdownCtx, specialtySelect, showdownSummaryEl;
    
    try {
        showdownCtx = document.getElementById('showdownChart').getContext('2d');
        specialtySelect = document.getElementById('specialty-select');
        showdownSummaryEl = document.getElementById('showdown-summary');

        Object.keys(showdownData).forEach(specialty => {
            const option = document.createElement('option');
            option.value = specialty;
            option.textContent = specialty;
            specialtySelect.appendChild(option);
        });
    } catch (e) {
        console.warn('Showdown chart initialization failed:', e);
    }

    // Init Synergy Chart
    let synergyChart; // Declare outside for scope
    let synergyCtx;
    
    try {
        synergyCtx = document.getElementById('synergyChart').getContext('2d');
    } catch (e) {
        console.warn('Synergy chart initialization failed:', e);
    }

    // Check if Chart.js is available and provide fallback
    const isChartJSAvailable = () => {
        return typeof Chart !== 'undefined';
    };

    const showChartFallback = (containerId, message) => {
        const container = document.getElementById(containerId);
        if (container) {
            container.innerHTML = `
                <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; min-height: 200px; padding: 20px; background-color: #f3f4f6; border-radius: 8px; color: #6b7280;">
                    <div style="font-size: 48px; margin-bottom: 16px;">ğŸ“Š</div>
                    <div style="font-size: 16px; text-align: center; line-height: 1.5;">
                        ${message}
                    </div>
                </div>
            `;
        }
    };

    // Helper function to check if we're on mobile
    const isMobile = () => window.innerWidth <= 768;
    
    // Helper function to create chart with mobile-specific timing
    const createChartWithMobileSupport = (ctx, type, data, options = {}) => {
        if (!isChartJSAvailable()) {
            console.warn('Chart.js is not available');
            return Promise.resolve(null);
        }
        
        const chartCreator = () => {
            try {
                return createChart(ctx, type, data, options);
            } catch (e) {
                console.warn('Chart creation failed:', e);
                return null;
            }
        };
        
        // On mobile, add a small delay to ensure container is properly sized
        if (isMobile()) {
            return new Promise((resolve) => {
                setTimeout(() => {
                    const chart = chartCreator();
                    if (chart) {
                        // Force a resize after creation on mobile
                        setTimeout(() => {
                            chart.resize();
                        }, 100);
                    }
                    resolve(chart);
                }, 50);
            });
        } else {
            return Promise.resolve(chartCreator());
        }
    };

    // Chart handling - add chart creation logic to showPage function
    const originalShowPage = showPage;
    window.showPage = (pageId) => {
        originalShowPage(pageId);
        
        // Special handling for charts to ensure they render correctly when their div becomes visible
        if (pageId === '#showdown' && !showdownChart && showdownCtx) {
            if (!isChartJSAvailable()) {
                showChartFallback('showdownChart', 'åœ–è¡¨åŠŸèƒ½éœ€è¦ç¶²è·¯é€£æ¥æ‰èƒ½æ­£å¸¸é¡¯ç¤º<br>è«‹æª¢æŸ¥æ‚¨çš„ç¶²è·¯é€£æ¥ä¸¦é‡æ–°æ•´ç†é é¢');
                return;
            }
            
            createChartWithMobileSupport(showdownCtx, 'bar', showdownData[specialtySelect.value])
                .then(chart => {
                    if (chart) {
                        showdownChart = chart;
                        if (showdownSummaryEl) {
                            showdownSummaryEl.textContent = showdownData[specialtySelect.value].summary;
                        }
                    } else {
                        showChartFallback('showdownChart', 'åœ–è¡¨è¼‰å…¥å¤±æ•—<br>è«‹é‡æ–°æ•´ç†é é¢æˆ–ç¨å¾Œå†è©¦');
                    }
                });
        } else if (pageId === '#showdown' && showdownChart) {
            showdownChart.update(); // Update to ensure responsiveness is triggered
            // Force resize on mobile to handle viewport changes
            if (isMobile()) {
                setTimeout(() => {
                    showdownChart.resize();
                }, 100);
            }
        }

        if (pageId === '#synergy' && !synergyChart && synergyCtx) {
            if (!isChartJSAvailable()) {
                showChartFallback('synergyChart', 'åœ–è¡¨åŠŸèƒ½éœ€è¦ç¶²è·¯é€£æ¥æ‰èƒ½æ­£å¸¸é¡¯ç¤º<br>è«‹æª¢æŸ¥æ‚¨çš„ç¶²è·¯é€£æ¥ä¸¦é‡æ–°æ•´ç†é é¢');
                return;
            }
            
            createChartWithMobileSupport(synergyCtx, 'bar', synergyData, {
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) { label += ': '; }
                                    if (context.parsed.y !== null) {
                                        label += context.parsed.y.toFixed(1) + '%';
                                    }
                                    return label;
                                }
                            }
                        }
                    },
                    scales: {
                         y: {
                            ticks: {
                                callback: function(value) {
                                    return value + '%';
                                }
                            }
                        }
                    }
                })
                .then(chart => {
                    if (chart) {
                        synergyChart = chart;
                    } else {
                        showChartFallback('synergyChart', 'åœ–è¡¨è¼‰å…¥å¤±æ•—<br>è«‹é‡æ–°æ•´ç†é é¢æˆ–ç¨å¾Œå†è©¦');
                    }
                });
        } else if (pageId === '#synergy' && synergyChart) {
            synergyChart.update(); // Update to ensure responsiveness is triggered
            // Force resize on mobile to handle viewport changes
            if (isMobile()) {
                setTimeout(() => {
                    synergyChart.resize();
                }, 100);
            }
        }
    };

    if (specialtySelect) {
        specialtySelect.addEventListener('change', (e) => {
            const selectedSpecialty = e.target.value;
            if (showdownChart) {
                showdownChart.data = showdownData[selectedSpecialty];
                showdownChart.update();
                // Force resize on mobile after data update
                if (isMobile()) {
                    setTimeout(() => {
                        showdownChart.resize();
                    }, 100);
                }
                if (showdownSummaryEl) {
                    showdownSummaryEl.textContent = showdownData[selectedSpecialty].summary;
                }
            }
        });
    }

    // Add resize handler for mobile viewport changes and orientation changes
    let resizeTimeout;
    window.addEventListener('resize', () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(() => {
            if (showdownChart) {
                showdownChart.resize();
            }
            if (synergyChart) {
                synergyChart.resize();
            }
        }, 250);
    });

    // Add orientation change handler for mobile devices
    window.addEventListener('orientationchange', () => {
        setTimeout(() => {
            if (showdownChart) {
                showdownChart.resize();
            }
            if (synergyChart) {
                synergyChart.resize();
            }
        }, 500); // Longer delay for orientation change
    });

    // Init Toolkit Section
    const toolkitContainer = document.getElementById('toolkit-container');
    const toolkitDetails = document.getElementById('toolkit-details');
    let lastActiveButton = null;

    Object.entries(toolkitData).forEach(([category, data]) => {
        const button = document.createElement('button');
        button.className = 'p-6 bg-white rounded-lg shadow-md flex flex-col items-center text-center hover:shadow-xl hover:-translate-y-1 transition-all duration-300';
        button.innerHTML = `
            <div class="flex-shrink-0 flex items-center justify-center h-16 w-16 rounded-full bg-teal-600">
                ${data.icon}
            </div>
            <h3 class="mt-4 text-lg font-medium text-stone-800">${category}</h3>
        `;
        button.addEventListener('click', () => {
            if (lastActiveButton === button) {
                toolkitDetails.classList.add('hidden');
                lastActiveButton.classList.remove('ring-2', 'ring-teal-500');
                lastActiveButton = null;
                return;
            }

            if (lastActiveButton) {
                lastActiveButton.classList.remove('ring-2', 'ring-teal-500');
            }

            toolkitDetails.innerHTML = `
                <h4 class="text-xl font-bold text-teal-700">${category}</h4>
                <p class="mt-2 text-stone-600">${data.description}</p>
                <ul class="mt-4 space-y-2 list-disc list-inside text-stone-700">
                    ${data.tools.map(tool => `<li><strong>${tool.name}:</strong> ${tool.desc}</li>`).join('')}
                </ul>
            `;
            toolkitDetails.classList.remove('hidden');
            button.classList.add('ring-2', 'ring-teal-500');
            lastActiveButton = button;
        });
        toolkitContainer.appendChild(button);
    });
    
    // Init Challenges Accordion
    const accordionContainer = document.getElementById('challenges-accordion');
    Object.entries(challengesData).forEach(([title, data], index) => {
        const itemDiv = document.createElement('div');
        const button = document.createElement('button');
        button.className = 'accordion-button';
        button.innerHTML = `
            <span>${data.icon} ${title}</span>
            <svg class="w-5 h-5 transform transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
        `;
        
        const content = document.createElement('div');
        content.className = 'accordion-content hidden';
        content.innerHTML = `<ul class="space-y-2">${data.points.map(p => `<li class="flex items-start"><span class="text-teal-500 mr-2 mt-1">â–ª</span><span>${p}</span></li>`).join('')}</ul>`;
        
        button.addEventListener('click', () => {
            const isHidden = content.classList.contains('hidden');
            // Close all others
            accordionContainer.querySelectorAll('.accordion-content').forEach(el => el.classList.add('hidden'));
            accordionContainer.querySelectorAll('.accordion-button svg').forEach(svg => svg.classList.remove('rotate-180'));

            if (isHidden) {
                content.classList.remove('hidden');
                button.querySelector('svg').classList.add('rotate-180');
            }
        });

        itemDiv.appendChild(button);
        itemDiv.appendChild(content);
        accordionContainer.appendChild(itemDiv);
    });

});
</script>
</body>
</html>
